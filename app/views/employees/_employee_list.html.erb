 <div id="filterrific_results">
 <div class="row">
    <div class="col-12">
      <div class="card">
        <div class="card-body">
        	<div class="row">
          	<div class="col-10"><h4 class="card-title">Employee List</h4></div>
          	<div class="col-2"><%= link_to 'Add Employee', new_employee_path, class: "btn btn-warning change-employee-role" %></div>
        	</div>
					<div class="table-responsive m-t-40">
					  <table id="example23" class="display nowrap table table-hover table-striped table-bordered" cellspacing="0" width="100%">
					  	<thead>
						    <tr>
						        <th>Email</th>
						        <th>Name</th>
						        <th>Username</th>
						        <th>Role</th>
						        <th>Change Role</th>
						        <th>Action</th>
						    </tr>
							</thead>
							<tbody>
								<% employees&.each do |employee| %>
									<div id="employee-data-<%= employee&.id %>">
										<%= render partial: 'employee_data', locals: {employee: employee} %>
									</div>
								<% end %>
							</tbody>
						</table>
					</div>
				</div>
			</div>
		</div>
	</div>
	<%= will_paginate employees %>

	<div class="modal"></div>
</div>
<script type="text/javascript">
	$(document).on('ready',function(){
		$(".change-employee-role").on("click", function(){
			$(this).parent().find('select option:selected').text();
				$.ajax({
	         url: '/change_role.js',
	         method: 'GET',
	         data: {
	           role: $("select[data-value='" + $(this).attr('data-value') + "'] option:selected").text(), //$(this).parent().find('select option:selected').text(),
	           id: $(this).attr('data-value')
	         }
	      });
		});
	});
</script>
